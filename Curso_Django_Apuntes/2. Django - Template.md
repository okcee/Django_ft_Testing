# Introducción a las plantillas: Templates
[text](https://docs.djangoproject.com/en/2.0/ref/templates/)
[text](https://docs.djangoproject.com/en/2.0/topics/http/shortcuts/#render)

Hasta ahora hemos estado devolviendo HTML plano utilizando el método `HttpResponse`. Como podéis suponer esto no es muy práctico, por eso Django nos ofrece la posibilidad de utilizar plantillas HTML (en inglés templates) mucho más cómodas y repletas de funcionalidades.  

Para utilizar una plantilla lo primero es crearla, pero no la podemos crearla donde nos apetezca, debemos hacerlo siguiendo una lógica. Lo primero es crear un directorio `templates` en nuestra app, que dentro debe contener otro directorio con el mismo nombre que la app, en nuestro caso `core`.  

Tenemos que hacerlo así porque Django funciona mezclando los directorios templates de las apps, de manera que al final él tiene un solo directorio `templates` y dentro otro para cada app.  

Dentro de este subdirectorio `templates`/`core` de la app vamos a comenzar creando un fichero `home.html`, lo suyo sería crear bien la estructura de nuestro HTML, pero por ahora vamos a dejarlo así.  

Lo que nos interesa es cambiar nuestra vista para que en lugar de devolver la respuesta HttpResponse devuelva este template HTML, y para lograrlo vamos utilizar el método render del módulo http de Django `core/templates/core/home.html`, que ya viene incluido por defecto.  
`core/views.py`
```Python
def home(request):
    return render(request, "core/home.html")
```

Por defecto Django optimiza el uso de la memoria así que no carga las plantillas de una app que no esté instalada en settings.py. Para cargar la app core y sus plantillas en memoria debemos ir al fichero webpersonal/settings.py y añadir la app en la lista INSTALLED_APPS justo abajo del todo:  
```Python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'core',  # <==== App creada 
]
```

## Herencia en nuestras plantillas

La herencia en las plantillas de Django es una característica clave para reutilizar código y mantener una estructura consistente en tu sitio web. Se implementa principalmente a través de dos etiquetas de plantilla integradas: `extend` y `block`.  

**Concepto General**: La herencia de plantillas permite crear una plantilla base que contiene el esqueleto y las áreas comunes de tu sitio, y luego crear plantillas "hijas" que heredan de esta base y sobrescriben o añaden contenido en áreas específicas. Esto promueve el principio DRY (Don't Repeat Yourself - No te repitas).  

### Etiqueta extends:

Se utiliza en una plantilla "hija" para indicar que hereda de una plantilla "padre".
Debe ser la primera etiqueta en la plantilla hija (excepto por comentarios opcionales o la etiqueta `verbatim`).  
La plantilla padre puede especificarse de dos maneras:  
- Como una cadena literal entre comillas (simples o dobles), por ejemplo: `{% extends "base.html" %}`. El nombre suele ser relativo al directorio raíz del cargador de plantillas.  
- Como una variable, por ejemplo: `{% extends variable %}`. Django usará el valor de la variable como nombre de la plantilla. Si la variable es un objeto `Template`, usará ese objeto.  
También soporta rutas relativas usando `./` o `../` respecto al directorio de la plantilla actual.

### Etiqueta block:  
Se utiliza tanto en la plantilla "padre" como en las "hijas".  
En la plantilla padre, `{% block nombre_del_bloque %}` define una sección de contenido que una plantilla hija puede sobrescribir. Se cierra con `{% endblock nombre_del_bloque %}`. El nombre del bloque es opcional en la etiqueta de cierre, pero recomendado para claridad.  
En una plantilla hija que usa `extends`, se utiliza `{% block nombre_del_bloque %}` (con el mismo nombre que en el padre) para insertar o reemplazar el contenido de ese bloque definido en la plantilla padre. Se cierra con `{% endblock %}` o `{% endblock nombre_del_bloque %}`.  
